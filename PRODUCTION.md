# Production Configuration

## Live Services

| Service | URL | Status | Region |
|---------|-----|--------|--------|
| Frontend | https://kinect-web.onrender.com | ✅ Live | Global CDN |
| Backend API | https://kinect-api.onrender.com | ✅ Live | Virginia (us-east-1) |
| Health Check | https://kinect-api.onrender.com/health | ✅ Live | Virginia (us-east-1) |
| MongoDB Atlas | kinect-production.ry0s078.mongodb.net | ✅ Live | N. Virginia (us-east-1) |
| Cron Service | N/A (Internal) | ✅ Live | Virginia (us-east-1) |

## Deployment Platform

**Primary:** Render.com
- Automatic deployments from GitHub main branch
- Zero-downtime deployments
- Automatic SSL certificates
- Built-in health checks

## Database

**MongoDB Atlas**
- Cluster: kinect-production
- Tier: M0 (Free - 512MB)
- Region: N. Virginia (us-east-1)
- Backup: Daily snapshots (upgrade for automated backups)

## Environment Configuration

### Critical Variables
- `MONGODB_URI`: MongoDB Atlas connection string
- `JWT_SECRET`: Auto-generated by Render
- `JWT_REFRESH_SECRET`: Auto-generated by Render
- `CORS_ORIGIN`: https://kinect-web.onrender.com

### Email Configuration
- `SMTP_HOST`: Your SMTP server
- `SMTP_PORT`: 587
- `SMTP_USER`: Your email
- `SMTP_PASS`: App-specific password
- `FROM_EMAIL`: noreply@kinect.app

## Monitoring

### Health Endpoints
```bash
# Backend health
curl https://kinect-api.onrender.com/health

# Expected response:
# {"status":"OK","timestamp":"..."}
```

### Logs
- Available in Render dashboard for each service
- Real-time streaming
- 7-day retention (free tier)

## Deployment Process

1. **Code Changes**
   ```bash
   git add .
   git commit -m "feat: your changes"
   git push origin main
   ```

2. **Automatic Deployment**
   - Render detects push to main
   - Builds and deploys automatically
   - Zero-downtime deployment

3. **Manual Deployment**
   - Available in Render dashboard
   - "Manual Deploy" → "Deploy latest commit"

## Backup & Recovery

### Database Backup
```bash
# Manual backup
mongodump --uri "$MONGODB_URI" --out ./backup-$(date +%Y%m%d)

# Restore
mongorestore --uri "$MONGODB_URI" ./backup-20250903
```

### Code Backup
- GitHub repository is primary backup
- Tag releases for version control

## Security

### Current Implementation
- ✅ HTTPS everywhere (Render SSL)
- ✅ JWT authentication
- ✅ Password hashing (bcrypt)
- ✅ CORS configured
- ✅ Rate limiting enabled
- ✅ Helmet.js security headers

### Recommendations
- [ ] Enable 2FA on all service accounts
- [ ] Rotate JWT secrets quarterly
- [ ] Implement API key for service-to-service
- [ ] Add request signing for sensitive operations

## Performance Metrics

### Current Performance
- Backend response: ~50-100ms
- Database queries: ~5-10ms (same region)
- Frontend load: ~1-2s (CDN optimized)
- API latency: <100ms (Virginia region)

### Optimization Opportunities
- Add Redis for session caching
- Implement database indexing
- Enable CDN caching headers
- Optimize bundle sizes

## Cost Analysis

### Current Monthly Costs
- Render Backend: $7/month
- Render Frontend: $0 (static site)
- Render Cron: $0 (included)
- MongoDB Atlas: $0 (free tier)
- **Total: $7/month**

### Scaling Costs
- Backend upgrade: $25/month (Standard)
- MongoDB M10: $57/month
- Custom domain: $0 (included)
- Additional services: Variable

## Emergency Procedures

### Service Down
1. Check Render status page
2. View service logs in dashboard
3. Restart service if needed
4. Check MongoDB Atlas status

### Database Issues
1. Check connection string
2. Verify network access rules
3. Check Atlas status page
4. Restore from backup if needed

### Rollback Procedure
```bash
# Find previous good commit
git log --oneline

# Revert to previous version
git revert HEAD
git push origin main
```

## Contact Information

### Service Providers
- **Render Support**: support@render.com
- **MongoDB Atlas**: https://support.mongodb.com
- **GitHub**: https://support.github.com

### Team Contacts
- Update with your team's contact information

## Migration Completed

**Date:** September 5, 2025
**From:** Railway
**To:** Render + MongoDB Atlas
**Status:** ✅ Successfully Completed

All services are running in production with optimized configuration.