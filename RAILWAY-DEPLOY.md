# üöÇ Deploy Kinect on Railway

> **One-click deployment for sharing with friends**

[![Deploy on Railway](https://railway.app/button.svg)](https://railway.app/template/kinect-self-hosted)

## ‚ö° Quick Deploy (2 minutes)

### Step 1: Click Deploy Button
Click the "Deploy on Railway" button above or visit: `https://railway.app/template/kinect-self-hosted`

### Step 2: Connect GitHub Account
- Sign up/login to Railway with GitHub
- Authorize Railway to access your repositories

### Step 3: Configure Your App
Railway will prompt you to set these variables:

**Required Settings:**
```
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-gmail-app-password
```

**Optional Settings:**
- `ALLOW_REGISTRATION=true` (let friends register)
- App name (defaults to "kinect-[random]")

### Step 4: Deploy!
- Click "Deploy" 
- Wait 2-3 minutes for build
- Get your live URL: `https://kinect-abc123.up.railway.app`

## üìß Email Setup (Required for Reminders)

### Option A: Gmail (Recommended)
1. **Enable 2-Factor Authentication** on your Gmail
2. **Generate App Password**:
   - Go to [Google Account Settings](https://myaccount.google.com/apppasswords)
   - Generate password for "Mail"
   - Copy the 16-character password

3. **Set Railway Variables**:
   ```
   SMTP_USER=your-email@gmail.com
   SMTP_PASS=abcd-efgh-ijkl-mnop  (your app password)
   ```

### Option B: SendGrid (Alternative)
1. **Sign up** at [sendgrid.com](https://sendgrid.com) (free tier: 100 emails/day)
2. **Create API Key** in SendGrid dashboard
3. **Set Railway Variables**:
   ```
   SMTP_HOST=smtp.sendgrid.net
   SMTP_USER=apikey
   SMTP_PASS=your-sendgrid-api-key
   ```

## üéØ Share with Friends

### Option A: Single Shared Instance (Recommended)
1. **Deploy once** using steps above
2. **Enable registration**: Set `ALLOW_REGISTRATION=true`
3. **Share the URL**: Give friends your Railway URL
4. **Friends create accounts** on your instance

**Pros**: Easy to maintain, one deployment
**Cons**: All data on your instance

### Option B: Individual Friend Deployments
1. **Share this guide** with friends
2. **Each friend** clicks the deploy button
3. **Everyone gets** their own private instance

**Pros**: Complete privacy, isolated data
**Cons**: Each person manages their own deployment

## üõ† Railway Environment Variables

Set these in Railway's dashboard (Variables tab):

### Required
```bash
# Email settings (choose Gmail or SendGrid)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com  
SMTP_PASS=your-app-password
SMTP_FROM="Kinect Reminders <your-email@gmail.com>"

# Auto-generated by Railway (don't set manually)
DATABASE_URL=mongodb://...  # Railway MongoDB
FRONTEND_URL=https://your-app.up.railway.app
PORT=3000  # Railway sets this automatically
```

### Optional  
```bash
# User registration
ALLOW_REGISTRATION=true  # Let friends register

# Reminder timing  
REMINDER_CHECK_INTERVAL=0 9 * * *  # Daily at 9 AM
ENABLE_EMAIL_REMINDERS=true

# App customization
APP_NAME=My Kinect App
```

## üìä Railway Services Setup

Railway automatically creates these services:

### 1. **Web Service** (Your App)
- **Dockerfile**: `Dockerfile.railway`
- **Port**: Auto-assigned by Railway  
- **URL**: `https://kinect-[random].up.railway.app`
- **Resources**: 512MB RAM, 1 vCPU (free tier)

### 2. **MongoDB Database**
- **Provider**: Railway MongoDB  
- **Storage**: 1GB (free tier)
- **Backups**: Automatic daily backups
- **Connection**: Auto-configured via `DATABASE_URL`

## üîß Advanced Configuration

### Custom Domain
1. **Buy domain** (Namecheap, Google Domains, etc.)
2. **Add to Railway**: 
   - Go to your app ‚Üí Settings ‚Üí Domains
   - Add your domain: `kinect.yourdomain.com`
   - Update DNS CNAME to point to Railway
3. **Update environment**:
   ```bash
   FRONTEND_URL=https://kinect.yourdomain.com
   CORS_ORIGIN=https://kinect.yourdomain.com
   ```

### Monitoring & Logs
```bash
# View logs in Railway dashboard
# Or use Railway CLI:
railway logs

# Monitor usage
railway status
```

### Scaling (Paid Plans)
```bash
# Upgrade for more resources:
# - Pro Plan: $5/month
# - 8GB RAM, 8 vCPU
# - Custom domains included
# - Priority support
```

## üö® Troubleshooting

### Deployment Failed
1. **Check build logs** in Railway dashboard
2. **Common issues**:
   - Missing environment variables
   - Docker build errors
   - Port binding issues

### App Not Loading
1. **Check service status** in Railway dashboard
2. **View application logs**
3. **Test health endpoint**: `https://your-app.up.railway.app/health`

### Email Not Working
1. **Verify SMTP credentials** in Railway variables
2. **Check Gmail app password** is correct
3. **Test email** from Railway logs
4. **Check spam folder** for reminder emails

### Friends Can't Register
1. **Verify** `ALLOW_REGISTRATION=true` is set
2. **Check** `/register` page loads
3. **Review** application logs for errors

## üí∞ Cost Breakdown

### Free Tier (Perfect for Testing)
- **Usage**: $5/month credit (enough for small usage)
- **Resources**: 512MB RAM, shared CPU
- **Database**: 1GB MongoDB storage
- **Traffic**: Unlimited (fair use)
- **Custom domains**: 1 included

### Pro Plan ($5/month - Recommended for Friend Sharing)
- **Resources**: 8GB RAM, dedicated CPU
- **Database**: 100GB storage
- **Priority support**
- **Team collaboration**
- **Advanced metrics**

### Usage Estimates
```bash
# Small friend group (5-10 friends):
# Free tier: $0-5/month (stays within credit)

# Medium group (10-25 friends):  
# Pro plan: $5-10/month

# Large group (25+ friends):
# Consider multiple deployments or VPS
```

## üéâ Success Checklist

After deployment, verify:

- [ ] **App loads** at your Railway URL
- [ ] **Registration works** (if enabled)
- [ ] **Login/logout** functions correctly
- [ ] **Contact creation** works
- [ ] **Reminder emails** send properly
- [ ] **Database** persists data between restarts
- [ ] **Custom domain** configured (if applicable)
- [ ] **Friends can access** and use the app

## üì± Mobile Access

Railway apps work great on mobile:

- **Add to home screen** for app-like experience
- **Works offline** (with service worker)  
- **Mobile-optimized** responsive design
- **Push notifications** (if browser supports)

## üîÑ Updates & Maintenance

### Automatic Updates
- **Connected to GitHub**: Auto-deploys on push to main branch
- **Railway watches**: Your repository for changes
- **Zero downtime**: Rolling updates

### Manual Updates  
1. **Push changes** to your GitHub repository
2. **Railway auto-deploys** within minutes
3. **Monitor deployment** in Railway dashboard

### Backup & Recovery
- **Database**: Railway handles automatic backups
- **Application**: Stored in GitHub repository
- **Environment**: Export variables from Railway dashboard

## ü§ù Friend Support

### Sharing Guide for Friends

Send this to friends:

> "I've deployed Kinect - a privacy-first relationship manager that sends reminders to stay in touch with people. 
> 
> **Access it here**: https://your-kinect-app.up.railway.app
> 
> **Create an account** and start adding your contacts. The app will remind you when it's been too long since you last contacted someone.
> 
> **It's completely private** - only you can see your contacts and reminders."

### Friend Support FAQ
- **Is it safe?** Yes, all data encrypted and private
- **Cost to friends?** Free to use your instance  
- **Mobile app?** Works in mobile browser, can add to home screen
- **Data export?** Yes, can export all data anytime

## üÜò Getting Help

### Railway Support
- **Documentation**: [docs.railway.app](https://docs.railway.app)
- **Discord**: [Railway Community](https://discord.gg/railway)
- **Status**: [railway.app/status](https://railway.app/status)

### Kinect Support  
- **GitHub Issues**: [Report bugs](https://github.com/your-repo/kinect/issues)
- **Discussions**: [Ask questions](https://github.com/your-repo/kinect/discussions)
- **Email**: support@kinect-app.com

---

## üöÄ Ready to Deploy?

Click the button to start your Railway deployment:

[![Deploy on Railway](https://railway.app/button.svg)](https://railway.app/template/kinect-self-hosted)

Your friends will thank you for keeping in touch! ü§ù